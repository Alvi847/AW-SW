<% /** Muestra las operaciones de las recetas si el usuario esta logueado */ 
function mostrarOpsRecetas(session){
	if (session != null && session.login){ 
		return `<ul>
					<li><a href="/receta/createReceta">AÃ±adir</a></li>	
				</ul>`;
}
}
%>
<%
/**
 * Muestra el saludo si el usuario esta registrado, en caso de que no lo este,
 * muestra que es un usuario desconocido.
 */
function mostrarSaludo(session){
	if (session == null || ! session.login){
		return `<a href="/usuarios/login" class="icono-login" title="Login">
					<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="bevel">
						<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>
					</svg>
				</a>`;
	}

	return `<a href="/usuarios/logout" class="icono-logout" title="Logout">
				<svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="bevel">
					<path d="M5.52 19c.64-2.2 1.84-3 3.22-3h6.52c1.38 0 2.58.8 3.22 3"/><circle cx="12" cy="10" r="3"/><circle cx="12" cy="12" r="10"/>
				</svg>
			</a>`;
}
%><header class="header">
	<a href="/">
		<img src="/img/logo.PNG" alt="logo recipeat" class="logo" title="PÃ¡gina de inicio de Recipeat">	
	</a>	
	<!-- ðŸ”¹ Icono del menÃº hamburguesa -->
	<div class="menu-icon" onclick="toggleMenu()">â˜°</div>
	<nav>		
	<ul class="nav-menu">
		<li><a href="/">INICIO</a></li>
		<li><a href="/contenido/normal">CÃ“MO FUNCIONA</a></li>
		<li><a href="/contenido/admin">ADMINISTRAR</a></li>

		<li><a href="/receta/listaRecetas">RECETAS</a></li>
		<%- mostrarOpsRecetas(session)%>
	</ul>
	</nav>
		<div class="saludo">
			<%- mostrarSaludo(session) %>
		</div>
</header>

<!-- ðŸ”¹ Script para manejar el menÃº hamburguesa -->
<script>
    function toggleMenu() {
        var nav = document.querySelector(".nav-menu");
        if (nav.style.display === "flex") {
            nav.style.display = "none";
        } else {
            nav.style.display = "flex";
            nav.style.flexDirection = "column";
            nav.style.position = "absolute";
            nav.style.top = "80px";
            nav.style.right = "0";
            nav.style.backgroundColor = "black";
            nav.style.width = "100%";
            nav.style.textAlign = "center";
        }
    }
</script