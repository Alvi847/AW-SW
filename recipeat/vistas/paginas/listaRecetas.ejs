<div class="buscador">
    <input type="text" placeholder="Buscar" id="buscadorRecetas">
</div>

<div class="recetas-container">
    <p id="mensajeNoEncontrado" style="display: none; text-align: center; font-size: 18px; color: red;">
        No se ha encontrado ninguna receta
    </p>
    <% recetas.forEach((r) => { %>
        <div class="receta-card">
            <a href="/receta/verReceta/<%= r.id %>">
                <div class="receta-content">
                    <div class="receta-imagen">
                        <img src="/images/<%= r.foto %>" alt="<%= r.nombre %>">
                    </div>
                    <div class="receta-info">
                        <h3><%= r.nombre %></h3>
                        <p><%= r.descripcion %></p>
                    </div>
                </div>
            </a>
        </div>
    <% }) %>
</div>

<!--script para el buscador de recetas-->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const buscador = document.getElementById("buscadorRecetas");
        const recetas = document.querySelectorAll(".receta-card");
        const mensajeNoEncontrado = document.getElementById("mensajeNoEncontrado");
    
        buscador.addEventListener("input", function () {
            const filtro = buscador.value.toLowerCase().trim();
            let hayCoincidencias = false;
    
            recetas.forEach((receta) => {
                const nombreReceta = receta.querySelector("h3").innerText.toLowerCase().trim();
    
                // Dividir el nombre en palabras y comprobar si alguna empieza con el filtro
                const palabras = nombreReceta.split(" ");
                const coincide = palabras.some(palabra => palabra.startsWith(filtro));
    
                if (coincide) {
                    receta.style.display = "block"; 
                    hayCoincidencias = true;
                } else {
                    receta.style.display = "none"; 
                }
            });
    
            // Mostrar mensaje si no hay coincidencias
            mensajeNoEncontrado.style.display = hayCoincidencias ? "none" : "block";
        });
    });
    </script>
    